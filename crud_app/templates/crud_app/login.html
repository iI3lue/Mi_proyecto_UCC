{% extends 'crud_app/base.html' %}
{% load static %}

{% block title %}Iniciar SesiÃ³n - TechStore{% endblock %}

{% block contenido %}
<div class="container" style="margin-top: 3rem; margin-bottom: 3rem;">
  <div style="max-width: 450px; margin: 0 auto;">
    <!-- Card de Login -->
    <div style="background-color: var(--card-bg); padding: 3rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-lg);">
      <div style="text-align: center; margin-bottom: 2rem;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ”</div>
        <h1 style="font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; color: var(--text-primary);">
          Iniciar SesiÃ³n
        </h1>
        <p style="color: var(--text-secondary); margin: 0;">
          Accede a tu cuenta en TechStore
        </p>
      </div>
      
      <form method="POST" style="display: flex; flex-direction: column; gap: 1.5rem;">
        {% csrf_token %}
        
        <div class="form-group">
          <label class="form-label" for="username">Usuario</label>
          <input 
            type="text" 
            class="form-control" 
            name="username" 
            id="username"
            placeholder="Ingresa tu usuario"
            required 
            autofocus
          >
        </div>
        
        <div class="form-group">
          <label class="form-label" for="password">ContraseÃ±a</label>
          <div style="position: relative;">
            <input 
              type="password" 
              class="form-control" 
              name="password" 
              id="loginPassword"
              placeholder="Ingresa tu contraseÃ±a"
              required
            >
            <button 
              type="button" 
              class="btn btn-icon" 
              id="toggleLoginPass"
              style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%); background: transparent; box-shadow: none;"
            >
              ğŸ‘ï¸
            </button>
          </div>
        </div>
        
        <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;">
          Ingresar â†’
        </button>
      </form>
      
      <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border-color); text-align: center;">
        <p style="color: var(--text-secondary); margin: 0;">
          Â¿No tienes cuenta? 
          <a href="{% url 'register' %}" style="color: var(--accent-blue); text-decoration: none; font-weight: 600;">
            RegÃ­strate aquÃ­
          </a>
        </p>
      </div>
    </div>
    
    <!-- Link de regreso -->
    <div style="text-align: center; margin-top: 2rem;">
      <a href="{% url 'index' %}" style="color: var(--text-secondary); text-decoration: none;">
        â† Volver al inicio
      </a>
    </div>
  </div>
</div>

<script>
  const loginPass = document.getElementById('loginPassword');
  const toggleLoginPass = document.getElementById('toggleLoginPass');
  
  if (toggleLoginPass && loginPass) {
    toggleLoginPass.addEventListener('click', function () {
      const type = loginPass.getAttribute('type') === 'password' ? 'text' : 'password';
      loginPass.setAttribute('type', type);
      this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
    });
  }
</script>
{% endblock %}